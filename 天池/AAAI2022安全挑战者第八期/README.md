# 思路总结
首先一点我们之前做的样本的攻击效果不够（之前没有做白盒,都是在其他在data1w上训练的model，且在设置攻击强度的时候干扰值max=8)，之前也就能有个50%的攻击成功率吧；（两个model的测试准确率分别为85.9,98）
总结其他人在群里发到的各种资料后，感觉攻击强度是个重要的一点。
对于其他数据增强手段（包括选择，倒置，仿射变换等），基本无效（放弃）， 据观察和群友说明，仅有高斯噪声和椒盐噪声是有用的.


### 目前最高分数
- 在FGSM上生成0.05,0.15,0.3的对抗样本3w
- 生成椒盐（060,040,020），高斯噪声（008）分别随机0.5，共生成2w张


### 后续安排

 - 目前的3w个对抗样本仅仅是在resnet50上训练的，经验证在两个model上，使用外部Normalize,的结果为95_12,(外部的normalize可以将最后生成的对抗样本clamp到0~1之间)，
 而不是通过np.unit8强制转换成0~255.
 
 在只保留30对抗干扰的和生成椒盐（060,040,020），高斯噪声（008）的3w数据集中训练结果为94_51
 在对抗样本为最高分数全部对抗，噪声为070和008的2w数据集中 训练结果为93.44
 
- 对抗干扰强度分析
 `结果可以看出，对抗干扰强度过大造成的效果并不好，所以全部干扰很强的效果并不好，可以适当降低干扰强度看看`
 - 噪声强度分析
` 噪声强度大于060之后的效果也很差，`
 
 
 ### 下一步实验
 1. 先比较一下外部normal效果，干扰还是用最好那批
 2. 重新生成了一批噪声数据，060,040,020,008都是5000张，共2w **之前是008是1w,其他一共1w**
 3. 先不降低干扰程度，和阈值选择，重新考虑配比(1,2,1)或者（1,1,2）
 结果
 normalize 结果是94_72，还是强度太高不好，
 1,2,1(96.86)和1,1,2(96_99)都没有提高这个强度。数量上肯定要减少一下30的
 1,1,1，3w的时候是97.17
 
 对于重新生成的数据5000张的这个结果是97.1087(060.040.020,008各5k)，相比于只有060，008的97.14不行
####  2022.1.9正在实验

- AllImage_FGSM005_015_020_3w_pepper060040020AndGaussian008_2w
**97.02**
- AllImage_FGSM005_015_030_3w_pepper060040020AndGaussian008_4411_2w
**96.97**

- AllImage_FGSM005_030_2w_pepper060040020AndGaussian008_2w
**96.97**
- AllImage_FGSM005_030_2w_pepper060040020AndGaussian008_2w_mixup_1w
**97.28**

##### 2022.1.9实验分析 
经过分析上面这个最好分数的mixup就是正常的测试样本，综合考虑问题就是我们需要添加干扰较小的样本，来增加model的泛化能力

下一步先不考虑对椒盐噪声和高斯噪声的干扰。降低最大的对抗干扰会降低分数，所以0.3的干扰还是能提高鲁棒性的，之后最大先设置为0.3，或者再高一点0.35，

减少了0.15的对抗样本，也是会降低分数，这个具体是因为该阈值的对抗干扰是存在测试model中的 还是因为数据量的问题？

##### 2022.1.9继续实验 
- AllImage_FGSM015_030_2w_pepper060040020AndGaussian008_2w_mixup_1w
**96.91**

- AllImage_FGSM003_015_030_3w_pepper060_Gaussian008_2w
**97.18**

##### 2022.1.10 实验 
- AllImage_FGSM015_030_2w_pepper060_Gaussian008_2w_mixup_all_1w
**97.24**

- AllImage_FGSM003_030_2w_pepper060_Gaussian008_2w_mixup_all_1w
**97.43**
- AllImage_FGSM003_015_035_3w_pepper060040020AndGaussian008_2w
**97.17**
- AllImage_FGSM003_015_030_3w_pepper060040020AndGaussian008_mixup_all_2w
**`先不提交了`**
- AllImage_FGSM003_015_030_3w_pepper060040020AndGaussian008_mixupAndTest_2w
**97.03**
##### 2022.1.10实验分析 
- mixup确实有效果，但是不能与其他结合来使用（就是在mixup的基础上，添加噪声或者干扰）
- 0.35的干扰效果不好(放弃)，干扰选择003,015,030
- 还是要把mixup加进去


##### 2022.1.11实验
- AllImage_FGSM003_030_2w_pepper060040020AndGaussian008_2w_mixup_all_1w

相比较于目前最好的《AllImage_FGSM003_030_2w_pepper060_Gaussian008_2w_mixup_all_1w》
不出意外这个应该最好，希望能破60

- AllImage_FGSM003_030_train_2w_pepper060040020AndGaussian008_2w_mixup_all_1w 
这个在提高了resnet50的model上生成的一批对抗样本（003,015,030），攻击强度增强了一些
- AllImage_FGSM003_030_2w_pepper060040020AndGaussian008_2w_mixup_all050_1w
"重点关注" 突出这个mixup比例
- AllImage_FGSM003_030_2w_pepper065_Gaussian008_2w_mixup_all_1w
"重点关注" 查看椒盐噪声影响
